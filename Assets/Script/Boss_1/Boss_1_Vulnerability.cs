using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.Events;

public class Boss_1_Vulnerability : BossDamageCollider
{
    public UnityEvent vulnerabilirabilityDestroyed;
    [SerializeField] C_Boss_1_AttackCollider boss_1_AttackCollider;
    public bool isDestroyed;

    public override void TakeDamage(float value)
    {
        parent.SetActive(false);
        isDestroyed = true;
        CloseCollider();
        boss_1_AttackCollider.CloseCollider();
        boss_1_AttackCollider.isDestroyed = true;

        vulnerabilirabilityDestroyed?.Invoke();

        TakeDamageEvent?.Invoke(value);
    }

    public override void OpenCollider()
    {
        if (!isDestroyed)
        {
            base.OpenCollider();
        }
    }

    public override void CloseCollider()
    {
        base.CloseCollider();
    }

    public void Reactivate()
    {
        parent.SetActive(true);
        isDestroyed = false;
        boss_1_AttackCollider.isDestroyed = false;
    }
}
